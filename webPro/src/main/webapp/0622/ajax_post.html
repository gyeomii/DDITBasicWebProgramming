<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Page Title</title>
<link rel="stylesheet" href="../css/outStyle.css">
<script src="../js/jquery-3.6.0.min.js"></script>
<title></title>
</head>
<body>
    <div>
        ID : <input> <br>
        PW : <input type="password">
        <input type="button" value="login">
    </div>
    <div id="d1"></div>
<script>
    $('input:button').on('click',function(){
	    let v_id = $(':text').val();
	    let v_pw = $(':password').val();
	
	    //객체생성
	    let req = new XMLHttpRequest();
	    //요청
	    req.open('post','ajax_post.jsp');
	    let data = `id=${v_id}&pw=${v_pw}`;
	    req.send(data);
	    //응답
	    req.onreadystatechange=function(){
	        if(this.readyState == 4 && this.status == 200){
	            let a = JSON.parse(this.responseText); // json object -> parsing
	            let result = `User ID : ${v_id}, ${a.msg}`;
	            $('#d1').html(result);
	        }
	    }
    });
</script>
</body>
</html>