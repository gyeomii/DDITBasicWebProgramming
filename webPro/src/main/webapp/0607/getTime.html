<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/outStyle.css">
</head>
<body>
	<h4>getTime() : 경과시간 구하기 (반환 값 milliseconds)</h4>
	<input type="button" value="살아온일수" onclick="proc1()">
	<div></div>
	<hr>
	<h4>getTime() : D-day 구하기 (반환 값 milliseconds)</h4>
	<input type="button" value="남은일수" onclick="proc2()">
	<div></div>
	<hr>
	구입날짜 :
	<input type="date" id="buyDate">
	<button onclick="checkDate()">검사</button>
	<script>
		function checkDate() {
			let buyDate = document.getElementById('buyDate').value;

			if (buyDate == null || buyDate == "") {
				alert("날짜를 선택하세요")
			} else {

				let buyDay = new Date(buyDate);
				let now = new Date;
				let refund = buyDay.getTime();
				let today = now.getTime();

				let time = today - refund;

				let dd = time / (1000 * 60 * 60 * 24);

				console.log(dd);
				if (dd > 7) {
					alert("교환기간이 지났습니다.")
				} else {
					alert("교환 가능합니다.")
				}
				document.querySelector('#buyDate').value = "";
			}
		}
		function proc1() {
			let now = new Date();
			let bir = new Date("1997.07.02");

			let today = now.getTime();
			let birthday = bir.getTime();
			let time = today - birthday;
			let sec = time / 1000;
			let min = sec / 60;
			let hh = min / 60;
			let dd = hh / 24;
			let yy = dd / 365;

			let result = `생년월일 : ${bir.toLocaleDateString()}<br>`;
			result += `오늘 날짜 : ${now.toLocaleDateString()} <br>`;
			result += `태어난 지 ${yy.toFixed(2)}년 경과 <br>`;
			result += `태어난 지 ${dd.toFixed(0)}일 경과 <br>`;
			result += `태어난 지 ${hh}시 경과 <br>`;
			result += `태어난 지 ${min}분 경과 <br>`;
			result += `태어난 지 ${sec}초 경과`;
			document.querySelector('div').innerHTML = result;
		}
		function proc2() {
			let now = new Date();
			let day = new Date("2022.11.28");

			let today = now.getTime();
			let dDay = day.getTime();
			let time = dDay - today;
			let sec = time / 1000;
			let min = sec / 60;
			let hh = min / 60;
			let dd = hh / 24;
			let yy = dd / 365;

			let result = `생년월일 : ${day.toLocaleDateString()}<br>`;
			result += `오늘 날짜 : ${now.toLocaleDateString()} <br>`;
			result += `수료까지 ${yy.toFixed(2)}년 남음 <br>`;
			result += `수료까지 ${dd.toFixed(0)}일 남음 <br>`;
			result += `수료까지 ${hh}시 남음 <br>`;
			result += `수료까지 ${min}분 남음 <br>`;
			result += `수료까지 ${sec}초 남음`;
			document.getElementsByTagName('div')[1].innerHTML = result;

		}
		var currTime = new Date().getTime();

		var addTime = 100 * 24 * 60 * 60 * 1000;

		var resultDate = new Date(currTime + addTime);
		alert("오늘부터 100일 후 날짜 :" + resultDate);
	</script>
</body>
</html>